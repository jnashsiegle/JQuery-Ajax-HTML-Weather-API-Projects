<!DOCTYPE html>
<!--Jana Nash-Siegle
    April
-->
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Weather API</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width">
<style>
body{
	font-family: Arial, Helvetica, sans-serif;
	background-color:#9ED6FF;
}

#container{
	width: 90%;
	margin: 0 auto;
	height: 600px;
}

.left {
	width: 35%;
	padding: 5%;
	float: left;
}

.right {
	width: 45%;
	padding: 2%;
	float: right;
}

h1, h2, h3{
	text-align: center;
	padding: 2%;
}
h2, h3 {
    padding: 0;
}
p {
    display: block;
    text-align: center;
}
    .forecast {
        text-align: left;
        line-height: 1.5;
    }
</style>


</head>
<body>

<div id="container">
<header> 
	<h1>Weather Underground API</h1>
    <h2 class = myLocation></h2>
    <h3 class = "time"></h3>

    <p class = "current"></p>
</header>

<div class="left">
<h2>Your Three Day Forecast Summary</h2>
<p class="three forecast">
<!--1. Display the three day Forecast Summary here-->
</p>
<h2>Your 10-day forecast summary</h2>
<p class="tenDay">
<!--2. Display the 10-day forecast summary feature here-->
</p>
</div><!--Closes Left-->



<div class="right">
<h2>Your Hourly 1-day forecast</h2>
<p class="hourFore">
<!--3. Display the Hourly 1-day forecast feature here-->
</p>

<h2>Your Astronomy Summary</h2>
<p class="astro">
<!--4. Display the WU Astronomy feature here-->
</p>

<h2>Your Almanac for today</h2>
<p class="almanac">
<!--5. Display the Almanac for today feature here-->
</p>
</div><!--Closes Right-->
</div><!--Closes Container-->


<!--Link to jQuery Library-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script>
$(document).ready(function($) {


    <!--  key 6a3b287f5ec5bbe6 -->

    <!--This is how I became familiar with the API, loads current conditions under the .title class-->
    $.ajax({
        url: "http://api.wunderground.com/api/6a3b287f5ec5bbe6/geolookup/conditions/forecast/q/TX/Canyon_Lake.json",
        dataType: "jsonp",   //maps us to the data features  uses json to cross domain boundaries
        success: function (parsed_json) {               //upon success will call the json from the external domain
            var city = parsed_json['location']['city'];             //SETTING VARIABLES - goes into location data feature and pulls the city name
            var state = parsed_json['location']['state'];           //pulls the state name
            var sampleTime = parsed_json['current_observation']['observation_time'];        //goes into c_o key and pulls the observation time
            var temp_f = parsed_json['current_observation']['temp_f'];          //pulls the fahrenheit temperature
            var weather = parsed_json['current_observation']['weather'];        //pulls brief weather summary
            var precipTodayString = parsed_json['current_observation']['precip_today_string'];  //pulls the accumulated prec in inches for time period
            var windStr = parsed_json['current_observation']['wind_string'];            //description of wind and strengtH
                                                                        //END SETTING VARIABLES
                $(".myLocation").html(city + ", " + state);             //sets city and state info in mylocation class of h1
                $(".time").html(sampleTime);                            //sets time in h2 time class
                $(".current").html(city + " has a temperature of " + temp_f + "ÂºF." + "  The current weather is " + weather.toLowerCase() + " with precipitation of " + precipTodayString + "." + "  The wind currently is " + windStr.toLowerCase() + ".");
    //outputs remaining variables used into a brief summary of the observation location in a paragraph below the h1 and h2
            }
    });



    <!--Use your own API key and city location-->
<!--1.Embed the WU 3-day forecast summary feature.-->
    $.ajax({
        url: "http://api.wunderground.com/api/6a3b287f5ec5bbe6/forecast/q/TX/Canyon_Lake.json",
        dataType: "jsonp",          //maps us to the data features  uses json to cross domain boundaries
        success: function (parsed_json) {                       //upon success will call the json from the external domain
            var forecast = parsed_json['forecast']['txt_forecast']['forecastday'];  //SETTING VARIABLES - sets variable to pull forecast info
            var sForecast = parsed_json['forecast']['simpleforecast']['forecastday']; //sets variable to set simple forecast info for avehumidity


            for (var i = 0; i < forecast.length; i++) {     //looping through all the data for the txt_forecast so we can pull targeted data

                for (var j = 0; j < forecast.length; j++) { //looping through all the data for the simpleforecast so we can pull targeted data
                    $(".three").html('The weather forecast for ' + forecast[1]['title'] + ' is ' + forecast[1]['fcttext'].toLowerCase() + "  There will be an average humidity of " +  sForecast[1]['avehumidity'] + "&#37;" + " for this 24-hour time period."+ "<br /><br />" +

                            'The weather forecast for ' + forecast[2]["title"] + ' is ' + forecast[2]['fcttext'].toLowerCase() + "  There will be an average humidity of " +  sForecast[2]['avehumidity'] + "&#37;" + " for this 24-hour time period." +  "<br /><br />" +
                            'The weather forecast for ' + forecast[3]["title"] + ' is ' + forecast[3]['fcttext'].toLowerCase() + "<br /><br />" +
                            'The weather forecast for ' + forecast[4]["title"] + ' is ' + forecast[4]['fcttext'].toLowerCase() + "  There will be an average humidity of " +  sForecast[3]['avehumidity'] + "&#37;" + " for this 24-hour time period." + "<br /><br />" +
                            'The weather forecast for ' + forecast[5]["title"] + ' is ' + forecast[5]['fcttext'].toLowerCase() + "<br /><br />"
                    );
//each concatenated line above pulls the data needed to display a summary utilizing the two for loops I made.  The main summary came from the var = forecast which is of the txt_forecast key.  I used the responses title for the day, fcttext for the main summary and set it to lower case to try and get a more smooth, if rough format.  I also made a nested for statement so I could pull the average humidity for each 24-hour period as humidity is very relevant for this area.  the var=sForecast pulls sets that data and is looped through by the inner loop and fills the sForecast[]['avehumidity'] key.
                }
            }
        }


    });





<!--2.Embed the WU 10-day forecast summary feature.-->



<!--3.Embed the WU Hourly 1-day forecast feature.-->	
<!--Your Code Here-->



<!--4.Embed the WU Astronomy feature.-->	
<!--Your Code Here-->
	

<!--5.Embed the WU Almanac for today feature.-->	
<!--Your Code Here-->

}); //closes whole script

</script>


	


	



</body>
</html>
